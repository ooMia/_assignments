from eth_hash.auto import (
    keccak,
)

target: list = ["d1e8aeb79500496ef3dc2e57ba746a8315d048b7a664a2bf948db4fa91960483",
                "6a0d259bd4fb907339fd7c65a133083c1e9554f2ca6325b806612c8df6d7df22",
                "3ac225168df54212a25c1c01fd35bebfea408fdac2e31ddd6f80a4bbf9a5f1cb",
                "14bcc435f49d130d189737f9762feb25c44ef5b886bef833e31a702af6be4748"]

target_index: dict = {target[i]: i for i in range(len(target))}


def is_target(h: str) -> bool:
    return h in target_index.keys()


def int_to_keccak(s: str) -> str:
    # integer failed to find the target
    return keccak(s.encode()).hex()


def hex_to_keccak(s: str) -> str:
    return keccak(bytes.fromhex(s)).hex()


if __name__ == "__main__":
    res: list = ["" for _ in range(6)]
    for s in range(256):
        s = hex(s)[2:].zfill(2)
        kec = hex_to_keccak(s)
        if is_target(kec):
            idx = target_index.get(kec)
            print(idx, s, kec)
            res.insert(idx, s)

    print("".join(res))

    print("00" * 7 + "666c6167" + "00" * ((345 - 4) % 32))
    for _ in range((345 - 4) // 32):
        print("00" * 32)

    print(2 ** 256 - 1)
